<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lviv RP HUD Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #333;
      color: white;
      padding: 20px;
    }
    .controls {
      background-color: rgba(0,0,0,0.5);
      padding: 15px;
      border-radius: 5px;
      margin-bottom: 20px;
    }
    button {
      padding: 8px 12px;
      margin-right: 10px;
      cursor: pointer;
    }
    input {
      padding: 8px;
      width: 60px;
    }
    label {
      margin-right: 10px;
    }
    iframe {
      border: none;
      width: 100%;
      height: 600px;
      background-color: transparent;
    }
  </style>
</head>
<body>
  <div class="controls">
    <h2>HUD Test Controls</h2>
    
    <div style="margin-bottom: 15px;">
      <button id="update-health">Update Health</button>
      <input type="number" id="health-value" min="0" max="100" value="75">
      
      <button id="update-armor">Update Armor</button>
      <input type="number" id="armor-value" min="0" max="100" value="50">
      
      <button id="update-hunger">Update Hunger</button>
      <input type="number" id="hunger-value" min="0" max="100" value="65">
    </div>
    
    <div style="margin-bottom: 15px;">
      <button id="update-money">Update Money</button>
      <input type="number" id="money-value" min="0" value="25000">
      
      <button id="update-wanted">Update Wanted</button>
      <input type="number" id="wanted-value" min="0" max="6" value="3">
      
      <button id="toggle-weapon">Toggle Weapon</button>
    </div>
    
    <div>
      <button id="send-notification">Send Notification</button>
      <input type="text" id="notification-text" value="Test notification" style="width: 200px;">
      <select id="notification-type">
        <option value="info">Info</option>
        <option value="money">Money</option>
        <option value="success">Success</option>
      </select>
    </div>
  </div>
  
  <iframe src="index.html" id="hud-frame"></iframe>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const hudFrame = document.getElementById('hud-frame');
      
      // Update health
      document.getElementById('update-health').addEventListener('click', function() {
        const value = document.getElementById('health-value').value;
        sendMessage({
          type: 'playerUpdate',
          payload: { health: parseInt(value) }
        });
      });
      
      // Update armor
      document.getElementById('update-armor').addEventListener('click', function() {
        const value = document.getElementById('armor-value').value;
        sendMessage({
          type: 'playerUpdate',
          payload: { armor: parseInt(value) }
        });
      });
      
      // Update hunger
      document.getElementById('update-hunger').addEventListener('click', function() {
        const value = document.getElementById('hunger-value').value;
        sendMessage({
          type: 'playerUpdate',
          payload: { hunger: parseInt(value) }
        });
      });
      
      // Update money
      document.getElementById('update-money').addEventListener('click', function() {
        const value = document.getElementById('money-value').value;
        sendMessage({
          type: 'playerUpdate',
          payload: { money: parseInt(value) }
        });
      });
      
      // Update wanted level
      document.getElementById('update-wanted').addEventListener('click', function() {
        const value = document.getElementById('wanted-value').value;
        sendMessage({
          type: 'playerUpdate',
          payload: { wanted: parseInt(value) }
        });
      });
      
      // Toggle weapon
      let hasWeapon = true;
      document.getElementById('toggle-weapon').addEventListener('click', function() {
        hasWeapon = !hasWeapon;
        sendMessage({
          type: 'playerUpdate',
          payload: { 
            hasWeaponInHand: hasWeapon,
            ammo: hasWeapon ? 42 : 0
          }
        });
      });
      
      // Send notification
      document.getElementById('send-notification').addEventListener('click', function() {
        const text = document.getElementById('notification-text').value;
        const type = document.getElementById('notification-type').value;
        sendMessage({
          type: 'notification',
          message: text,
          notificationType: type
        });
      });
      
      // Function to send message to iframe
      function sendMessage(data) {
        hudFrame.contentWindow.postMessage(JSON.stringify(data), '*');
      }
      
      // Listen for messages from iframe
      window.addEventListener('message', function(event) {
        if (event.data && typeof event.data === 'string') {
          try {
            const data = JSON.parse(event.data);
            console.log('Message from HUD:', data);
          } catch (e) {
            console.error('Error parsing message from HUD:', e);
          }
        }
      });
    });
  </script>
</body>
</html>

